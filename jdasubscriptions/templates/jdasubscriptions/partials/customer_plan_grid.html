<div class="row">
    {% for plan in plans %}
    <div class="col-md-4 mb-4 d-flex">
        <div class="card shadow-sm h-100 w-100">

            <div class="card-body d-flex flex-column">

                {% if plan.code == "akwaba_gold_monthly" or plan.code == "akwaba_gold_yearly" %}
                <span class="badge badge-info mb-2">Most Popular</span>
                {% else %}
                <div style="height: 22px;"></div>
                {% endif %}

                <h5 class="font-weight-bold">{{ plan.name }}</h5>
                <p class="text-muted">{{ plan.description }}</p>

                <h4 class="font-weight-bold mt-3">
                    {{ plan.price_fcfa|floatformat:0 }} FCFA HT
                    <span class="small">/{{ plan.billing_period }}</span>
                </h4>

                <ul class="list-unstyled mt-3 flex-grow-1">
                    {% for feature in plan.features.visible %}
                    <li>✔ {{ feature }}</li>
                    {% endfor %}
                    {% for feature in plan.features.hidden %}
                    <li class="text-muted">✖ {{ feature }}</li>
                    {% endfor %}
                </ul>

                <a href="{% url 'jdasubscriptions:select_subscription_plan' plan.id %}"
                   class="btn btn-outline-info btn-block mt-auto">
                    Select Plan
                </a>

            </div>
        </div>
    </div>
    {% endfor %}
</div>
